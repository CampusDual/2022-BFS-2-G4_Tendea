<div class="container pt-4">
  <div class="row">
    <div class="col-xs-12 col-md-9 mx-auto">
      <mat-card class="row animate__animated animate__fadeIn">
        <mat-card-title class="color-green">{{ formName}}</mat-card-title>
        <hr>
        <form class="mt-5 col-12" [formGroup]="productForm" (ngSubmit)="save()" autocomplete="off">
          <mat-form-field class="full-width " appearance="fill">
            <mat-label>{{ 'table.product.name' | translate }}</mat-label>
            <input type="text" matInput placeholder="{{ 'table.product.name' | translate }}" formControlName="name">
            <mat-error *ngIf="productForm.get('name').hasError('minlength')">
              {{'register.product.INVALID_NAME' | translate}} </mat-error>
            <mat-error *ngIf="productForm.get('name').hasError('maxlength')">
              {{'register.product.INVALID_NAME' | translate}} </mat-error>
            <mat-error *ngIf="productForm.get('name').hasError('required')">
              {{'register.product.NAME_REQUIRED' | translate}} </mat-error>
          </mat-form-field>

          <div class="row pt-3">
            <div class="col">
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>{{ 'table.product.price' | translate }}</mat-label>
                <input type="number" matInput placeholder="{{ 'table.product.price' | translate }}"
                  formControlName="price">
                <mat-error *ngIf="productForm.get('price').hasError('required')">
                  {{'register.product.PRICE_REQUIRED' | translate}} </mat-error>
              </mat-form-field>
            </div>

            <div class="col">
              <mat-form-field class="full-width" appearance="fill">
                <mat-label>{{ 'table.product.discount' | translate }}</mat-label>
                <input type="email" matInput placeholder="{{ 'table.product.discount' | translate }}"
                  formControlName="discount">
              </mat-form-field>
            </div>
          </div>

          <div class="col-xs-2">
            <section class="example-section">
              <mat-checkbox class="example-margin" formControlName="bulk">Granel</mat-checkbox>
            </section>
          </div>

          <div class="col mt-2">
            <mat-form-field appearance="fill" class="full-width">
              <mat-label>{{category.name}}</mat-label>
              <mat-select [(ngModel)]="category" formControlName="category" name="category">
                <mat-option *ngFor="let cat of categories" [value]="cat">
                  {{cat.name}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill" class="full-width">
              <mat-label>{{ 'table.product.description' | translate }}</mat-label>
              <textarea matInput formControlName="description"></textarea>
            </mat-form-field>

            <input type="file" accept="" (change)="changeImage($event)" />

          </div>

          <div>
            <button mat-raised-button color="warn" class="mt-4 me-2" (click)="cancel()">{{ 'button.cancel' |
              translate }}</button>
            <button mat-raised-button color="primary" class="mt-4" [disabled]="productForm.invalid">{{ 'button.save' |
              translate }}</button>
          </div>

        </form>
        <div class="col">

          <!-- <button mat-raised-button color="primary" class="mt-4" [disabled]="!imageUpload"
            (click)="uploadImage()">Guardar</button> -->
        </div>
      </mat-card>
    </div>
    <div class="col-xs-12 col-md-3">
      <mat-card class="example-card animate__animated animate__fadeIn">
        <img mat-card-image *ngIf="imgTemp" [src]="imgTemp">
        <img mat-card-image *ngIf="!imgTemp" [src]="imgTemp">
        <img mat-card-image [src]="product|imagen">
      </mat-card>
    </div>
  </div>
</div>